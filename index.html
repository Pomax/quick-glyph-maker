<!doctype html>
<html>
  <head>
    <title>A quick glyph maker</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="help" onclick="this.style.display='none';">
      <h2>A quick font glyph maker</h2>
      <h3>Drawing outlines</h3>
      <ul>
        <li>left click to place a point. Plain points are snapped to the grid.</li>
        <li>left click-drag to place a curve point. Curve controls do not snap to the grid.</li>
        <li>right click to close a contour and start a new point "layer".</li>
      </ul>
      <h3>Modifying outlines</h3>
      <ul>
        <li>left click-drag to move an existing point</li>
        <li>left click to turn a curve point into a plain point (click again to turn back into curve point)</li>
      </ul>
      <p>plain points cannot be autoconverted to curve points quite yet, but it's in the works.</p>
      <h3>Flattening and getting the outline data</h3>
      <ul>
        <li>click "save" and give the glyph outline a name.</li>
        <li>All contours will get unified (using Paper.js), and the resulting outline is given as SVG path, for pasting in an SVG skeleton, as well as TTX XML form for pasting into a .ttx source file.</li>
        <li>You can load this shape back up by pressing its associated button. These are <strong>not</strong> preserved across page reloads at the moment.</li>
      </ul>
      <p class="note">Click this text to get rid of the instructions forever (or until you inspect-element and remove "display:none", I guess)</p>
    </div>

    <div id="app"></div>

    <script src="bezier.js"></script>
    <script src="utils.js"></script>
    <script src="glyphmap.js"></script>
    <script src="paper-full.min.js"></script>

    <script src="svgconverter/PointCurveShape.js"></script>
    <script src="svgconverter/TTXPointCurveShape.js"></script>
    <script src="svgconverter/Receiver.js"></script>
    <script src="svgconverter/TTXReceiver.js"></script>
    <script src="svgconverter/SVGParser.js"></script>
    <script src="svgconverter/toTTX.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react-with-addons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>

    <script type="text/jsx" src="app/Shapes.jsx"></script>
    <script type="text/jsx" src="app/Grid.jsx"></script>
    <script type="text/jsx" src="app/Panels.jsx"></script>
    <script type="text/jsx" src="app/Contour.jsx"></script>
    <script type="text/jsx" src="app/Project.jsx"></script>
    <script type="text/jsx" src="app/Controls.jsx"></script>
    <script type="text/jsx" src="app/App.jsx"></script>

    <script type="text/jsx">
      (function loadApp() {
        if(window.Shapes && window.Grid && window.Contour && window.App) {
          React.render(<App {...{
            width: 600,
            height: 600
          }}/>, document.getElementById('app'));
        } else { setTimeout(loadApp, 100); }
      }());
    </script>

  </body>
</html>